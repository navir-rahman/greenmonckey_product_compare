{%- comment -%}
{
  "pack_name": "Back to top",
  "pack_author": "Design Packs"
}
{%- endcomment -%}

{% comment %} Security Code - hides section when app uninstalled {% endcomment %}
{%- unless content_for_header contains 'design_packs_file.js' -%}
  {%- if request.design_mode -%}
    <div class="dsgn-pck__no-app-warning">
      <div class="dsgn-pck__no-app-warning-background">
      </div>
      <div class="dsgn-pck__no-app-warning-text dsgn-pck__rte">
        <p><strong>WARNING!</strong> This premium section will not display properly without an active subscription for <a href="https://apps.shopify.com/design-packs" target="_blank" rel="nofollow">Design Packs</a>. If you need any support please email <a href="mailto:info@design-packs.com" target="_blank">info@design-packs.com</a> with your questions.</p>
      </div>
    </div>
  {%- endif -%}
  {%- break -%}
{%- endunless -%}

{%- comment -%} Images: SVG Shapes {%- endcomment -%}
{%- capture arrow -%}
  {%- case section.settings.icon -%}
    {%- when 'thin_arrow' -%}
      <svg viewBox="0 0 666 304" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M332 0L0 304H37.5828L332 34.0909L636.037 304H666L332 0Z"/>
      </svg>
    {%- when 'angle_circle_arrow_up' -%}
      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.883 122.882" xml:space="preserve"><g><path d="M0,61.441L0,61.441h0.018c0,16.976,6.872,32.335,17.98,43.443c11.108,11.107,26.467,17.979,43.441,17.979v0.018h0.001 h0.001v-0.018c16.974,0,32.335-6.872,43.443-17.98s17.98-26.467,17.98-43.441h0.018v-0.001V61.44h-0.018 c0-16.975-6.873-32.334-17.98-43.443C93.775,6.89,78.418,0.018,61.443,0.018V0h-0.002l0,0v0.018 c-16.975,0-32.335,6.872-43.443,17.98C6.89,29.106,0.018,44.465,0.018,61.439H0V61.441L0,61.441z M42.48,71.7 c-1.962,1.908-5.101,1.865-7.009-0.098c-1.909-1.962-1.865-5.101,0.097-7.009l22.521-21.839l3.456,3.553l-3.46-3.569 c1.971-1.911,5.117-1.862,7.029,0.108c0.055,0.058,0.109,0.115,0.16,0.175L87.33,64.594c1.963,1.908,2.006,5.047,0.098,7.009 c-1.908,1.963-5.047,2.006-7.01,0.098L61.53,53.227L42.48,71.7L42.48,71.7z"/></g></svg>
    {%- when 'angle_circle_up' -%}
      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.883 122.882" xml:space="preserve"><g><path d="M122.883,61.441c0,16.966-6.877,32.326-17.996,43.445c-11.119,11.118-26.479,17.995-43.446,17.995 c-16.966,0-32.326-6.877-43.445-17.995C6.877,93.768,0,78.407,0,61.441c0-16.967,6.877-32.327,17.996-43.445 C29.115,6.877,44.475,0,61.441,0c16.967,0,32.327,6.877,43.446,17.996C116.006,29.115,122.883,44.475,122.883,61.441 L122.883,61.441z M80.717,71.377c1.783,1.735,4.637,1.695,6.373-0.088c1.734-1.784,1.695-4.637-0.09-6.372L64.48,43.078 l-3.142,3.23l3.146-3.244c-1.791-1.737-4.653-1.693-6.39,0.098c-0.05,0.052-0.099,0.104-0.146,0.158L35.866,64.917 c-1.784,1.735-1.823,4.588-0.088,6.372c1.735,1.783,4.588,1.823,6.372,0.088l19.202-18.779L80.717,71.377L80.717,71.377z M98.496,98.496c9.484-9.482,15.35-22.584,15.35-37.055c0-14.472-5.865-27.573-15.35-37.056 C89.014,14.903,75.912,9.038,61.441,9.038c-14.471,0-27.572,5.865-37.055,15.348C14.903,33.869,9.038,46.97,9.038,61.441 c0,14.471,5.865,27.572,15.349,37.055c9.482,9.483,22.584,15.349,37.055,15.349C75.912,113.845,89.014,107.979,98.496,98.496 L98.496,98.496z"/></g></svg>
    {%- when 'angle_top' -%}
      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 80.593" enable-background="new 0 0 122.88 80.593" xml:space="preserve"><g><polygon points="122.88,80.593 122.88,49.772 61.44,0 0,49.772 0,80.593 61.44,30.82 122.88,80.593"/></g></svg>
    {%- when 'double_arrow_top' -%}
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 120.64" xml:space="preserve"><g><path d="M108.91,66.6c1.63,1.55,3.74,2.31,5.85,2.28c2.11-0.03,4.2-0.84,5.79-2.44l0.12-0.12c1.5-1.58,2.23-3.6,2.2-5.61 c-0.03-2.01-0.82-4.01-2.37-5.55C102.85,37.5,84.9,20.03,67.11,2.48c-0.05-0.07-0.1-0.13-0.16-0.19C65.32,0.73,63.19-0.03,61.08,0 c-2.11,0.03-4.21,0.85-5.8,2.45l-0.26,0.27C37.47,20.21,19.87,37.65,2.36,55.17C0.82,56.71,0.03,58.7,0,60.71 c-0.03,2.01,0.7,4.03,2.21,5.61l0.15,0.15c1.58,1.57,3.66,2.38,5.76,2.41c2.1,0.03,4.22-0.73,5.85-2.28l47.27-47.22L108.91,66.6 L108.91,66.6z M106.91,118.37c1.62,1.54,3.73,2.29,5.83,2.26c2.11-0.03,4.2-0.84,5.79-2.44l0.12-0.12c1.5-1.57,2.23-3.6,2.21-5.61 c-0.03-2.01-0.82-4.02-2.37-5.55C101.2,89.63,84.2,71.76,67.12,54.24c-0.05-0.07-0.11-0.14-0.17-0.21 c-1.63-1.55-3.76-2.31-5.87-2.28c-2.11,0.03-4.21,0.85-5.8,2.45C38.33,71.7,21.44,89.27,4.51,106.8l-0.13,0.12 c-1.54,1.53-2.32,3.53-2.35,5.54c-0.03,2.01,0.7,4.03,2.21,5.61l0.15,0.15c1.58,1.57,3.66,2.38,5.76,2.41 c2.1,0.03,4.22-0.73,5.85-2.28l45.24-47.18L106.91,118.37L106.91,118.37z"/></g></svg>
    {%- when 'hand_finger_up' -%}
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 84.93 122.88" xml:space="preserve"><g><path d="M32.01,79.13c0.3,1.6,0.27,3.23-0.08,4.78c-1.42,6.37-7.58,10.25-13.92,8.48c-2.07-0.58-4.02-1.72-5.63-3.34 c0.95,3.53,2.24,6.58,4.87,10.7c4.59,7.2,10.48,12.05,16.8,14.74c4.84,2.06,9.96,2.85,14.93,2.44c4.97-0.41,9.79-2.02,14.05-4.74 c5.33-3.4,9.83-8.56,12.71-15.33c1.66-3.9,2.67-8.71,3.11-13.66c0.49-5.49,0.27-11.13-0.53-15.9c-0.41-2.44-1.3-4.49-2.63-5.95 c-1.18-1.29-2.76-2.14-4.73-2.4c-7.19-0.97-14.78,0-22.04-0.52c-3.16-0.23-5.48-0.39-5.85,2.9c-0.14,1.2-0.08,2.29,0.13,3.29 c0.47,2.21,1.77,3.96,3.51,5.23c1.88,1.37,4.28,2.21,6.8,2.49c1.7,0.19,3.44,0.12,5.08-0.21c1.52-0.41,3.1,0.46,3.56,1.98 c2.06,6.88-13.28,1.15-13.64,13.96c-0.01,0.37-0.02,0.74-0.03,0.98c-0.05,1.61-1.39,2.87-3,2.82c-1.61-0.05-2.87-1.39-2.82-3 c0.01-0.43,0.02-0.7,0.03-0.95c0.16-5.63,0.24-8.61,4.39-11.25c-1.35-0.56-2.64-1.27-3.8-2.11c-0.48-0.35-0.92-0.72-1.32-1.11 c-0.81,1.47-1.94,2.77-3.37,3.76c-0.13,0.09-0.25,0.17-0.38,0.25C36.29,78.69,34.14,79.22,32.01,79.13L32.01,79.13z M5.99,79.9 L2.1,74.04c-3.01-4.54-2.52-9.23-0.21-12.71c0.88-1.33,2.03-2.47,3.36-3.35c1.33-0.89,2.84-1.51,4.43-1.79 c0.67-0.12,1.35-0.18,2.04-0.17c-0.15-1.22-0.1-2.45,0.14-3.63c0.56-2.8,2.14-5.38,4.57-7.07c0.12-0.09,0.25-0.17,0.38-0.25 c2.64-1.68,5.69-2.05,8.54-1.32c0.61,0.16,1.22,0.36,1.81,0.62c-0.44-2.03-0.39-4.08,0.11-5.99c0.8-3.06,2.73-5.75,5.66-7.35 c2.93-1.61,6.28-1.8,9.3-0.81c2.96,0.97,5.63,3.08,7.28,6.1c3.4,6.22,3.76,7.05,4.12,7.89c0.27,0.62,0.53,1.24,2.53,4.93 l0.04-36.53h-0.01l0,0h0.01c0-3.44,1.33-6.56,3.47-8.83c4.72-5.01,12.39-5.01,17.11,0.01c2.13,2.27,3.46,5.4,3.45,8.84h0.01l0,0 h-0.01l-0.04,42.63l0.01,0c0,0.67-0.23,1.29-0.61,1.79c0.14,0.14,0.27,0.28,0.4,0.42c2.12,2.31,3.49,5.38,4.09,8.91 c0.88,5.19,1.11,11.35,0.57,17.36C84.15,89.25,83,94.68,81.1,99.15c-3.36,7.89-8.65,13.94-14.95,17.96 c-5.09,3.25-10.81,5.16-16.7,5.65c-5.88,0.49-11.94-0.44-17.69-2.89c-7.34-3.12-14.15-8.72-19.42-16.98 c-4.85-7.6-5.67-11.82-7.28-20.06l-0.03-0.17C4.84,81.59,5.23,80.55,5.99,79.9L5.99,79.9z M24.05,75.6 c-0.6-0.58-1.16-1.24-1.66-1.95l-7.73-11.06c-1.33-0.88-2.74-1.12-4.03-0.89c-0.82,0.15-1.61,0.47-2.31,0.94 c-0.71,0.47-1.32,1.08-1.79,1.78c-1.16,1.75-1.38,4.16,0.21,6.55l8.6,12.95c1.05,1.58,2.55,2.66,4.14,3.11 c3.24,0.9,6.27-1.06,7-4.31c0.33-1.49,0.12-3.11-0.73-4.53c-0.07-0.11-0.11-0.18-0.14-0.22L24.05,75.6L24.05,75.6z M21.68,61.93 l6.66,10.03c0.82,0.68,1.75,1.17,2.72,1.41c1.42,0.36,2.92,0.2,4.17-0.6c0.06-0.04,0.12-0.08,0.18-0.12 c1.2-0.84,1.99-2.14,2.28-3.58c0.29-1.46,0.06-3.02-0.79-4.36c-0.05-0.07-0.09-0.14-0.14-0.21l-8.69-12.44 c-1.05-1.5-2.52-2.51-4.09-2.91c-1.43-0.36-2.92-0.2-4.17,0.6c-0.06,0.04-0.12,0.08-0.19,0.12c-1.2,0.84-1.99,2.15-2.28,3.58 c-0.29,1.46-0.06,3.02,0.79,4.36c0.05,0.07,0.09,0.14,0.14,0.21l0.37,0.53C19.73,59.42,20.75,60.54,21.68,61.93L21.68,61.93z M40.43,35.74c-1.56-0.51-3.25-0.43-4.71,0.37c-1.44,0.79-2.41,2.14-2.81,3.7c-0.43,1.66-0.24,3.55,0.65,5.26l5.2,9.97 c0.99-1.33,2.22-2.44,3.71-3.3c2.03-1.18,4.49-1.85,7.43-1.98c-1.15-2.17-1.39-2.73-1.63-3.29c-0.32-0.74-0.63-1.47-3.87-7.39 C43.5,37.42,42.04,36.26,40.43,35.74L40.43,35.74z M63.91,7.75c-1.17,1.24-1.89,2.95-1.9,4.84h0.01l0,0h-0.01l-0.04,39.72 l12.4,0.01l0.04-39.72H74.4l0,0h0.01c0-1.89-0.72-3.61-1.88-4.85C70.12,5.19,66.32,5.18,63.91,7.75L63.91,7.75z"/></g></svg>
    {%- when 'line_angle_up' -%}
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 66.91" xml:space="preserve"><g><path d="M11.68,64.96c-2.72,2.65-7.08,2.59-9.73-0.14c-2.65-2.72-2.59-7.08,0.13-9.73L56.87,1.97l4.8,4.93l-4.81-4.95 c2.74-2.65,7.1-2.58,9.76,0.15c0.08,0.08,0.15,0.16,0.23,0.24L120.8,55.1c2.72,2.65,2.78,7.01,0.13,9.73 c-2.65,2.72-7,2.78-9.73,0.14L61.65,16.5L11.68,64.96L11.68,64.96z"/></g></svg>
    {%- when 'round_arrow_top' -%}
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 122.88" xml:space="preserve"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class="st0" d="M122.88,61.44c0,33.93-27.51,61.44-61.44,61.44C27.51,122.88,0,95.37,0,61.44C0,27.51,27.51,0,61.44,0 C95.37,0,122.88,27.51,122.88,61.44L122.88,61.44z M88.07,77.9V59.54L61.44,40.21L34.81,59.54V77.9l26.63-19.33L88.07,77.9 L88.07,77.9L88.07,77.9z"/></g></svg>
    {%- when 'round_line_top_arrow' -%}
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 122.88" xml:space="preserve"><g><path d="M109.72,61.44v-0.01h0.03c0-13.31-5.42-25.38-14.17-34.13c-8.75-8.74-20.81-14.16-34.1-14.16v0.02l-0.04,0v-0.02 c-13.3,0-25.38,5.42-34.13,14.17c-8.74,8.75-14.16,20.81-14.16,34.11h0.03v0.04h-0.03c0,8.88,2.41,17.22,6.59,24.36 c8.38,14.31,23.92,23.92,41.68,23.93v-0.02l0.04,0v0.02c13.31,0,25.38-5.42,34.13-14.17c1.44-1.44,2.78-2.95,4-4.52 C105.93,82.88,109.72,72.6,109.72,61.44L109.72,61.44z M61.44,27.39L27.51,62.67l21.84,0v32.81l24.17,0V62.68h21.84L61.44,27.39 L61.44,27.39L61.44,27.39z M122.85,61.43h0.03v0.01c0,14.19-4.82,27.27-12.92,37.68c-1.59,2.04-3.29,3.97-5.08,5.76 c-11.1,11.1-26.45,17.97-43.43,17.98v0.03l-0.04,0v-0.03c-22.59-0.01-42.34-12.22-52.99-30.4c-5.33-9.1-8.39-19.7-8.39-31H0v-0.04 h0.03C0.03,44.44,6.9,29.09,18,18C29.09,6.9,44.45,0.03,61.43,0.03V0l0.04,0v0.03c16.97,0.01,32.32,6.87,43.41,17.97 C115.98,29.09,122.85,44.45,122.85,61.43L122.85,61.43z"/></g></svg>
    {%- when 'triangle_top_arrow' -%}
      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 63.9" xml:space="preserve"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><polygon class="st0" points="61.44,0 122.88,63.9 0,63.9 61.44,0"/></g></svg>
  {%- endcase -%}
{%- endcapture -%}

{%- comment -%} Text: custom font_picker values {%- endcomment -%}
{%- capture font_settings_list -%}
{{ section.settings.main_font | font_face: font_display: 'swap' }}~
{{ section.settings.main_font | font_modify: 'weight', 'bolder' | font_face: font_display: 'swap' }}~
{{ section.settings.main_font | font_modify: 'style', 'italic' | font_face: font_display: 'swap' }}~
{{ section.settings.main_font | font_modify: 'style', 'italic' | font_modify: 'weight', 'bolder' | font_face: font_display: 'swap' }}
{%- endcapture -%}
{%- assign font_array = font_settings_list | split: '~' -%}

{%- capture minify -%}
{%- comment -%} CSS {%- endcomment -%}
<style>
{%- for font in font_array -%}
  {%- unless font contains 'error' -%}{{ font }}{%- endunless -%}
{%- endfor -%}
{%- if section.settings.override_theme_font != blank -%}
  {%- capture main_font -%}{{ section.settings.main_font.family }}, {{ section.settings.main_font.fallback_families }}{%- endcapture -%}
{%- endif -%}

[class^="design_pack_-_fixed_back_to_top"] {
  display: block;
}

#DP--{{ section.id }} {
  height: 0 !important;
  padding: 0 !important;
}

#DP--{{ section.id }}.dsgn-pck__back-to-top {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  z-index: 99999;
}

#DP--{{ section.id }} .dsgn-pck__button-wrap {
  margin: 0;
  transition: opacity 0.2s ease-in-out;
  position: absolute;
  bottom: 0;
  display: grid;
  overflow: hidden;
  box-shadow: {%- if section.settings.show_shadow != blank -%} 0px 0px 20px rgba(0,0,0, 0.3) {%- endif -%};
  border-radius: {{ section.settings.border_radius }}%;
  margin: {{ section.settings.margin }}px;
  width: {{ section.settings.size }}px;
}

#DP--{{ section.id }} .dsgn-pck__button-wrap--left {
  left: 0;
}

#DP--{{ section.id }} .dsgn-pck__button-wrap--right {
  right: 0;
}

#DP--{{ section.id }} .dsgn-pck__button {
  position: absolute;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  cursor: pointer;
  background: {{ section.settings.background_color }};
  color: {{ section.settings.text_color }};
  opacity: {{ section.settings.opacity | times: 0.01 }};
}

#DP--{{ section.id }} .dsgn-pck__arrow {
  width: 100%;
  padding: 0 25%;
  margin: 0 auto;
}

#DP--{{ section.id }} .dsgn-pck__arrow svg {
  display: block;
  fill: {{ section.settings.text_color }};
}

#DP--{{ section.id }} .dsgn-pck__arrow + .dsgn-pck__text {
  margin-top: 5px;
}

#DP--{{ section.id }} .dsgn-pck__text {
  text-align: center;
  font-size: 80%;
  color: {{ section.settings.text_color }};
}

#DP--{{ section.id }} .dsgn-pck__sizer {
  position: relative;
  width: calc(100%);
}

{%- if section.settings.custom_css != blank -%}
  {%- assign custom_section_declarations = section.settings.custom_css | split: '}' -%}
  {%- for declaration in custom_section_declarations -%}
    {%- if declaration contains '{' -%}
      #DP--{{ section.id }} {{ declaration }} }
    {%- endif -%}
  {%- endfor -%}
{%- endif -%}

/* Landscape phone to portrait tablet */
@media (max-width: 767px) {
  {%- if section.settings.hide_on_mobile != blank -%}
    #DP--{{ section.id }} .dsgn-pck__sizer {
      display: none;
    }
  {%- endif -%}
}

/* Landscape phones and down */
@media (max-width: 480px) {
  {%- if section.settings.mobile_custom_css != blank -%}
    {%- assign mobile_custom_declarations = section.settings.mobile_custom_css | split: '}' -%}
    {%- for declaration in mobile_custom_declarations -%}
      {%- if declaration contains '{' -%}
        #DP--{{ section.id }} {{ declaration }} }
      {%- endif -%}
    {%- endfor -%}
  {%- endif -%}
}
</style>

{%- comment -%} HTML {%- endcomment -%}
<section id="DP--{{ section.id }}"
        class="DP--{{ section.id }} dsgn-pck__back-to-top dsgn-pck__section">
  <div class="dsgn-pck__sizer">
    <div class="dsgn-pck__button-wrap dsgn-pck__button-wrap--{{ section.settings.alignment }}">
      <svg class="dsgn-pck__svg-sizer" viewBox="0 0 1000 1000"></svg>
      <div class="dsgn-pck__button">
        {%- if section.settings.icon != 'none' -%}
          <div class="dsgn-pck__arrow">
            {{ arrow }}
          </div>
        {%- endif -%}
        {%- if section.settings.text != blank and section.settings.size > 79 -%}
          <p class="dsgn-pck__text">{{ section.settings.text }}</p>
        {%- endif -%}
      </div>
    </div>
  </div>
</section>
{%- endcapture -%}
{{ minify | strip_newlines }}

{% schema %}
{
  "name": "Back to top",
  "class": "DP__back-to-top",
  "settings": [
    {
      "type": "range",
      "id": "scroll_appear",
      "label": "Scroll appear",
      "default": 60,
      "min": 10,
      "max": 90,
      "step": 10,
      "unit": "%",
      "info": "Determines when the button will appear while scrolling."
    },
    {
      "type": "select",
      "id": "icon",
      "label": "Icon",
      "default": "angle_top",
      "options": [
        {
          "value": "thin_arrow",
          "label": "Thin arrow"
        },
        {
          "value": "line_angle_up",
          "label": "Thin rounded arrow"
        },
        {
          "value": "angle_top",
          "label": "Thick arrow"
        },
        {
          "value": "angle_circle_arrow_up",
          "label": "Arrow with circle 1"
        },
        {
          "value": "angle_circle_up",
          "label": "Arrow with circle 2"
        },
        {
          "value": "round_line_top_arrow",
          "label": "Arrow with circle 3"
        },
        {
          "value": "double_arrow_top",
          "label": "Double arrows"
        },
        {
          "value": "hand_finger_up",
          "label": "Hand pointing"
        },
        {
          "value": "triangle_top_arrow",
          "label": "Triangle"
        }
      ]
    },
    {
      "type": "range",
      "id": "size",
      "label": "Size",
      "default": 60,
      "min": 40,
      "max": 100,
      "step": 5,
      "unit": "px",
      "info": "Text is only shown at 80px or larger."
    },
    {
      "type": "text",
      "id": "text",
      "label": "Text"
    },
    {
      "type": "select",
      "id": "alignment",
      "label": "Alignment",
      "default": "right",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ]
    },
    {
      "type": "range",
      "id": "margin",
      "label": "Margin",
      "default": 20,
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "opacity",
      "label": "Opacity",
      "default": 85,
      "min": 10,
      "max": 100,
      "step": 5,
      "unit": "%"
    },
    {
      "type": "range",
      "id": "border_radius",
      "label": "Border radius",
      "default": 5,
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "%"
    },
    {
      "type": "header",
      "content": "🎨 Design"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text",
      "default": "#FFFFFF"
    },
    {
      "type": "color_background",
      "id": "background_color",
      "label": "Background",
      "default": "linear-gradient(180deg, rgba(196, 102, 238, 1), rgba(82, 218, 236, 1) 100%)"
    },
    {
      "type": "checkbox",
      "id": "show_shadow",
      "label": "Show shadow",
      "default": false
    },
    {
      "type": "header",
      "content": "📱 Mobile"
    },
    {
      "type": "checkbox",
      "id": "hide_on_mobile",
      "label": "Hide on smaller screens",
      "default": true
    },
    {
      "type": "header",
      "content": "🚨 Advanced"
    },
    {
      "type": "html",
      "id": "custom_css",
      "label": "CSS"
    },
    {
      "type": "html",
      "id": "mobile_custom_css",
      "label": "Mobile CSS",
      "info": "Applied on screens less than 480px."
    }
  ],
  "presets": [
    {
      "name": "Fixed back to top 🎒",
      "settings": {
      }
    }
  ]
}
{% endschema %}
{%- comment -%} JSON Settings {%- endcomment -%}
<script type="application/json" data-dsgn-pck="{{ section.id }}">
  {
    "id": {{ section.id | json }},
    "scroll_appear": {{ section.settings.scroll_appear | json }}
  }
</script>
{%- comment -%} JavaScript {%- endcomment -%}
<script data-dsgn-pck-js="{{ section.id }}" type="module" defer>
(function(){
  'use strict';

  const designPack = {
    settings: {},
    load: function(section) {
      function scrollToTop() {
        rootElement.scrollTo({
          top: 0,
          behavior: "smooth"
        })
      }

      function handleScroll() {
        // do something on scroll
        var scrollTotal = rootElement.scrollHeight - rootElement.clientHeight;
        if ((rootElement.scrollTop / scrollTotal ) > parseInt(designPack.settings.scroll_appear)/100) {
          //show button
          scrollToTopBtn.style.opacity = 1;
        } else {
          //hide button
          scrollToTopBtn.style.opacity = 0;
        }
      }
      const scrollToTopBtn = section.querySelector('.dsgn-pck__button-wrap');
      const rootElement = document.documentElement;

      scrollToTopBtn.addEventListener('click', scrollToTop);
      document.addEventListener('scroll', handleScroll);
    },
    unload: function(section) {
      const scrollToTopBtn = section.querySelector('.dsgn-pck__button-wrap');
      scrollToTopBtn.removeEventListener('click', designPack.scrollToTop);
    }
  }

  window.addEventListener('shopify:section:unload', function (e) {
    const settings = document.querySelector(`[data-dsgn-pck="${e.detail.sectionId}"]`);
    const sectionId = e.detail.sectionId;
    const section = document.querySelector(`#DP--${e.detail.sectionId}`);
    if (sectionId == designPack.settings.id){
      designPack.unload(section);
    }
  });

  designPack.settings = JSON.parse(document.querySelector('[data-dsgn-pck="{{ section.id }}"]').innerHTML);
  const sectionId = {{ section.id | json }};
  const section = document.querySelector(`#DP--${sectionId}`);
  if (sectionId == designPack.settings.id){
    designPack.load(section);
  }

})();
</script>
